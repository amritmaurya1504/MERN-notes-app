(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(15),r=c.n(s),l=(c(38),c(39),c(7)),i=(c(27),c(8)),o=c(6),j=c(9),b=function(e){return{type:"SET_USER",payload:{data:e}}},d=c(1),u=function(e){e.setSearch;var t=Object(j.c)((function(e){return e.user})),c=Object(o.f)(),a=Object(j.b)();return Object(d.jsx)("div",{children:Object(d.jsx)("nav",{class:"navbar navbar-expand-lg navbar-light bg-secondary",children:Object(d.jsxs)("div",{class:"container-fluid mx-2",children:[Object(d.jsx)("a",{class:"navbar-brand fw-bold",href:"#",children:"weNote"}),Object(d.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{class:"navbar-toggler-icon"})}),Object(d.jsxs)("div",{class:"collapse navbar-collapse",id:"navbarColor01",children:[Object(d.jsxs)("ul",{class:"navbar-nav me-auto",children:[t&&Object(d.jsx)("li",{class:"nav-item",children:Object(d.jsx)(i.b,{class:"nav-link active","aria-current":"page",to:"/mynotes",children:"My Notes"})}),!t&&Object(d.jsx)("li",{class:"nav-item",children:Object(d.jsx)(i.b,{class:"nav-link",to:"/login",children:"Login"})}),!t&&Object(d.jsx)("li",{class:"nav-item",children:Object(d.jsx)(i.b,{class:"nav-link",to:"/register",children:"Register"})}),t&&Object(d.jsxs)("li",{class:"nav-item dropdown",children:[Object(d.jsx)("a",{class:"nav-link dropdown-toggle","data-bs-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false",children:t&&t.name}),Object(d.jsxs)("div",{class:"dropdown-menu",children:[Object(d.jsx)(i.b,{class:"dropdown-item  text-dark",to:"/profile",children:"Profile"}),Object(d.jsx)("div",{class:"dropdown-divider"}),t&&Object(d.jsx)("li",{class:"nav-item",children:Object(d.jsx)(i.b,{class:"dropdown-item  text-dark",to:"/",onClick:function(){a({type:"LOGOUT_USER"}),localStorage.removeItem("userInfo"),localStorage.removeItem("jwt"),c.push("/")},children:"Logout"})})]})]})]}),Object(d.jsxs)("form",{class:"d-flex",children:[Object(d.jsx)("input",{class:"form-control me-sm-2",className:"border border-light ps-3",type:"text",placeholder:"Search"}),Object(d.jsx)("button",{class:"btn btn-dark mx-2 my-2 my-sm-0",type:"submit",children:"Search"})]})]})]})})})},h=c(49),m=c(50),O=c(29),p=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("footer",{style:{width:"100%",position:"relative",bottom:"0",display:"flex",justifyContent:"center"},children:Object(d.jsx)(h.a,{children:Object(d.jsx)(m.a,{children:Object(d.jsx)(O.a,{className:"text-center py-3 mt-5",children:"Copyright \xa9 Amrit Raj"})})})})})},x=function(){var e=Object(o.f)();Object(j.c)((function(e){return e.user}));return Object(a.useEffect)((function(){JSON.parse(localStorage.getItem("userInfo"))?e.push("/mynotes"):e.push("/")}),[]),Object(d.jsx)("div",{children:Object(d.jsx)(h.a,{children:Object(d.jsxs)(m.a,{children:[Object(d.jsxs)("div",{className:"intro-text text-center my-5",children:[Object(d.jsx)("h1",{className:"display-3 mt-5 mb-5",children:"Welcome to weNote App"}),Object(d.jsx)("p",{className:"h6 lead",children:"One safe place for all your notes."})]}),Object(d.jsxs)("div",{className:"btns text-center",children:[Object(d.jsx)(i.b,{to:"/login",children:Object(d.jsx)("button",{className:"btn btn-danger bg-danger text-white  me-3",children:"Login"})}),Object(d.jsx)(i.b,{to:"/register",children:Object(d.jsx)("button",{className:"btn btn-outline-success text-white ",children:"Register"})})]})]})})})},f=c(51),g=c(53),v=c(30),y=c.n(v),S=function(e){e.search;var t=Object(a.useState)([]),c=Object(l.a)(t,2),n=c[0],s=c[1],r=Object(o.f)(),b=JSON.parse(localStorage.getItem("userInfo")),u=(Object(j.b)(),Object(a.useState)(!1)),h=Object(l.a)(u,2),m=h[0],O=h[1];Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userInfo"));e?console.log(e):r.push("/")}),[]);var p=function(e){window.confirm("Are you sure")&&fetch("/api/notes/".concat(e),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e),r.push("/createnote")})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)((function(){O(!0),fetch("/api/notes",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){s(e),O(!1)})).catch((function(e){return console.log(e)}))}),[],[p]),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"container-lg",children:[Object(d.jsxs)("h1",{className:"display-6 p-2 my-4",children:["Welcome Back ",b?b.name:"Jhon"," "]}),Object(d.jsx)(i.b,{to:"/createnote",children:Object(d.jsx)("button",{className:"btn btn-primary mx-4",children:"Create New Note"})}),Object(d.jsxs)("div",{className:"cards m-4",children:[m&&Object(d.jsx)(y.a,{className:"m-auto",type:"bars",color:"#fff",height:"120px",width:"120px"}),null===n||void 0===n?void 0:n.map((function(e){return Object(d.jsx)(f.a,{children:Object(d.jsxs)(g.a,{className:"mb-4",children:[Object(d.jsxs)(g.a.Header,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},className:"bg-primary text-white",children:[Object(d.jsx)(f.a.Toggle,{as:g.a.Text,variant:"link",eventKey:"0",children:e.title}),Object(d.jsx)("div",{className:"button",children:Object(d.jsxs)("div",{class:"btn-group",children:[Object(d.jsx)(i.b,{to:"/note/".concat(e._id),class:"myBtn btn btn-primary md-p-0 bg-warning text-white",children:"Edit"}),Object(d.jsx)("a",{class:"myBtn btn btn-primary md-p-0 bg-danger text-white",onClick:function(){return p(e._id)},children:"Delete"})]})})]}),Object(d.jsx)(f.a.Collapse,{eventKey:"0",children:Object(d.jsx)(g.a.Body,{children:Object(d.jsxs)("blockquote",{className:"blockquote mb-0",children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("h6",{children:Object(d.jsx)("span",{class:"badge bg-success",children:e.category})}),e.content]}),Object(d.jsxs)("footer",{className:"blockquote-footer my-2",children:["Created on  ",Object(d.jsx)("cite",{title:"Source Title",children:e.timestamps})]})]})})})]})},e._id)})).reverse()]})]})})},N=c(16),w=c.n(N),I=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(),r=Object(l.a)(s,2),u=r[0],h=r[1],m=Object(j.b)(),O=Object(a.useState)(!1),p=Object(l.a)(O,2),x=p[0],f=p[1],g=Object(o.f)(),v=Object(j.c)((function(e){return e.user}));return Object(a.useEffect)((function(){v&&g.push("/mynotes")}),[g,v]),Object(d.jsxs)("div",{children:[x&&Object(d.jsx)(w.a,{loading:!0,background:"#2ecc71",loaderColor:"#3498db"}),Object(d.jsxs)("div",{className:"container-lg",children:[Object(d.jsx)("h1",{className:"display-6 p-2 my-4",children:"Login"}),Object(d.jsx)("div",{className:"loginDiv",children:Object(d.jsxs)("form",{method:"post",children:[Object(d.jsxs)("div",{class:"mb-3",children:[Object(d.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Email address"}),Object(d.jsx)("input",{value:c,onChange:function(e){return n(e.target.value)},type:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",autocomplete:"off"}),Object(d.jsx)("div",{id:"emailHelp",class:"form-text",children:"We'll never share your email with anyone else."})]}),Object(d.jsxs)("div",{class:"mb-3",children:[Object(d.jsx)("label",{for:"exampleInputPassword1",class:"form-label",children:"Password"}),Object(d.jsx)("input",{value:u,onChange:function(e){return h(e.target.value)},type:"password",class:"form-control",id:"exampleInputPassword1"})]}),Object(d.jsx)("div",{className:"text mt-2 mb-2",children:Object(d.jsxs)("p",{className:"h6",children:["Don't have an account ",Object(d.jsx)(i.b,{to:"/register",children:"Register"})," "]})}),Object(d.jsx)("button",{type:"submit",class:"btn btn-primary bg-warning text-black",onClick:function(e){e.preventDefault(),f(!0),fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:u})}).then((function(e){return e.json()})).then((function(e){if(e.error)alert(e.error),f(!1);else{f(!1),alert(e.message);var t=e.userLogin,c={_id:t._id,name:t.name,email:t.email,picUrl:t.picUrl,timestamps:t.timestamps,token:e.token};m(b(c)),localStorage.setItem("userInfo",JSON.stringify(c)),localStorage.setItem("jwt",c.token)}})).catch((function(e){console.log(e)}))},children:"Submit"})]})})]})]})},C=c(52),E=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(),r=Object(l.a)(s,2),j=r[0],b=r[1],u=Object(a.useState)(),h=Object(l.a)(u,2),m=h[0],O=h[1],p=Object(a.useState)("https://cdn.pixabay.com/photo/2020/07/14/13/07/icon-5404125_960_720.png"),x=Object(l.a)(p,2),f=x[0],g=x[1],v=Object(o.f)(),y=Object(a.useState)(!1),S=Object(l.a)(y,2),N=S[0],I=S[1];return Object(d.jsxs)("div",{children:[N&&Object(d.jsx)(w.a,{loading:!0,background:"#2ecc71",loaderColor:"#3498db"}),Object(d.jsxs)("div",{className:"container-lg",children:[Object(d.jsx)("h1",{className:"display-6 p-2 my-4",children:"Register"}),Object(d.jsx)("div",{className:"registerDiv",children:Object(d.jsxs)("form",{method:"post",children:[Object(d.jsxs)("div",{class:"mb-3",children:[Object(d.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Full Name"}),Object(d.jsx)("input",{type:"text",value:c,onChange:function(e){return n(e.target.value)},class:"form-control mb-2",id:"exampleInputName","aria-describedby":"nameHelp",autocomplete:"off"}),Object(d.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Email address"}),Object(d.jsx)("input",{type:"email",value:j,onChange:function(e){return b(e.target.value)},class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",autocomplete:"off"}),Object(d.jsx)("div",{id:"emailHelp",class:"form-text",children:"We'll never share your email with anyone else."})]}),Object(d.jsxs)("div",{class:"mb-3",children:[Object(d.jsx)("label",{for:"exampleInputPassword1",class:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",value:m,onChange:function(e){return O(e.target.value)},class:"form-control",id:"exampleInputPassword1"})]}),Object(d.jsx)("div",{class:"mb-3",children:Object(d.jsxs)(C.a.Group,{controlId:"pic",children:[Object(d.jsx)(C.a.Label,{children:"Profile Picture"}),Object(d.jsx)(C.a.File,{onChange:function(e){return function(e){if("image/jpeg"===e.type||"image/png"===e.type){var t=new FormData;t.append("file",e),t.append("upload_preset","ISOI-HITK"),t.append("cloud_name","amritrajmaurya"),fetch("https://api.cloudinary.com/v1_1/amritrajmaurya/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e.url),g(e.url.toString())})).catch((function(e){console.log(e)}))}else alert("Please select an image!")}(e.target.files[0])},id:"custom-file",type:"image/png",custom:!0})]})}),Object(d.jsx)("div",{className:"text mt-2 mb-4",children:Object(d.jsxs)("p",{className:"h6",children:["Alreay have an account ",Object(d.jsx)(i.b,{to:"/login",children:"SignIn"})," "]})}),Object(d.jsx)("button",{type:"submit",class:"btn btn-primary bg-warning text-black",onClick:function(e){e.preventDefault(),I(!0),fetch("/api/users",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,email:j,password:m,picUrl:f})}).then((function(e){return e.json()})).then((function(e){e.error?alert(e.error):(I(!1),alert(e.message),n(""),b(""),O(""),v.push("/login"))})).catch((function(e){console.log(e)}))},children:"Submit"})]})})]})]})},k=function(){var e=Object(o.f)(),t=Object(a.useState)(),c=Object(l.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(),i=Object(l.a)(r,2),j=i[0],b=i[1],u=Object(a.useState)(),h=Object(l.a)(u,2),m=h[0],O=h[1],p=Object(a.useState)(!1),x=Object(l.a)(p,2),f=x[0],g=x[1],v=JSON.parse(localStorage.getItem("userInfo"));return Object(d.jsxs)("div",{className:"container-lg",children:[f&&Object(d.jsx)(w.a,{loading:!0,background:"#2ecc71",loaderColor:"#3498db"}),Object(d.jsxs)("h1",{className:"display-6 p-2 my-4",children:["Welcome Back ",v.name," "]}),Object(d.jsx)("div",{className:"card m-4",children:Object(d.jsxs)("div",{class:"card",children:[Object(d.jsx)("div",{class:"card-header bg-primary text-white",children:"Create Note"}),Object(d.jsx)("div",{class:"card-body",children:Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{class:"mb-3",children:[Object(d.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",value:n,onChange:function(e){return s(e.target.value)},class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})]}),Object(d.jsxs)("div",{class:"mb-3",children:[Object(d.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Content"}),Object(d.jsxs)("div",{class:"form-floating",children:[Object(d.jsx)("textarea",{class:"form-control",value:j,onChange:function(e){return b(e.target.value)},placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"120px"}}),Object(d.jsx)("label",{for:"floatingTextarea2",children:"Content"})]})]}),Object(d.jsxs)("div",{class:"mb-3",children:[Object(d.jsx)("label",{for:"exampleInputPassword1",class:"form-label",children:"Category"}),Object(d.jsx)("input",{type:"text",value:m,onChange:function(e){return O(e.target.value)},class:"form-control",id:"exampleInputPassword1"})]}),Object(d.jsx)("button",{type:"submit",class:"btn btn-primary bg-success text-white",onClick:function(t){t.preventDefault(),g(!0),fetch("/api/notes/create",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({title:n,content:j,category:m})}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):(g(!1),console.log(t),e.push("/mynotes"))})).catch((function(e){console.log(e)}))},children:"Submit"})]})})]})})]})},T=function(){var e=Object(o.g)().id,t=Object(o.f)(),c=Object(a.useState)(),n=Object(l.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(),j=Object(l.a)(i,2),b=j[0],u=j[1],h=Object(a.useState)(),m=Object(l.a)(h,2),O=m[0],p=m[1],x=JSON.parse(localStorage.getItem("userInfo"));Object(a.useEffect)((function(){fetch("/api/notes/".concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){r(e.title),p(e.category),u(e.content)})).catch((function(e){return console.log(e)}))}),[]);return Object(d.jsxs)("div",{className:"container-lg",children:[Object(d.jsxs)("h1",{className:"display-6 p-2 my-4",children:["Welcome Back ",x.name," "]}),Object(d.jsx)("div",{className:"card m-4",children:Object(d.jsxs)("div",{class:"card",children:[Object(d.jsx)("div",{class:"card-header bg-primary text-white",children:"Edit Note"}),Object(d.jsx)("div",{class:"card-body",children:Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{class:"mb-3",children:[Object(d.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",value:s,onChange:function(e){return r(e.target.value)},class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})]}),Object(d.jsxs)("div",{class:"mb-3",children:[Object(d.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Content"}),Object(d.jsxs)("div",{class:"form-floating",children:[Object(d.jsx)("textarea",{class:"form-control",value:b,onChange:function(e){return u(e.target.value)},placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"120px"}}),Object(d.jsx)("label",{for:"floatingTextarea2",children:"Content"})]})]}),Object(d.jsxs)("div",{class:"mb-3",children:[Object(d.jsx)("label",{for:"exampleInputPassword1",class:"form-label",children:"Category"}),Object(d.jsx)("input",{type:"text",value:O,onChange:function(e){return p(e.target.value)},class:"form-control",id:"exampleInputPassword1"})]}),Object(d.jsx)("button",{type:"submit",class:"btn btn-primary bg-success text-white",onClick:function(c){c.preventDefault(),fetch("/api/notes/".concat(e),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({title:s,content:b,category:O})}).then((function(e){return e.json()})).then((function(e){e.error?alert(e.error):(console.log("Noted updated!!"),t.push("/mynotes"))})).catch((function(e){console.log(e)}))},children:"Update"})]})})]})})]})},P=function(){var e=Object(j.c)((function(e){return e.user})),t=Object(o.f)(),c=Object(j.b)();return Object(a.useEffect)((function(){var a=JSON.parse(localStorage.getItem("userInfo"));c(b(a)),e||t.push("/login")}),[]),Object(d.jsxs)("div",{className:"container-lg",children:[Object(d.jsx)("h1",{className:"display-6 p-2 my-4",children:"Profile Page"}),Object(d.jsxs)("div",{class:"card",children:[Object(d.jsx)("div",{class:"card-header",children:"Profile Details"}),Object(d.jsx)("div",{class:"card-body",children:Object(d.jsxs)("div",{className:"info",children:[Object(d.jsxs)("div",{className:"data",children:[Object(d.jsx)("h5",{class:"card-title",children:e&&e.name}),Object(d.jsx)("p",{class:"card-text",children:e&&e.email}),Object(d.jsx)(i.b,{to:"/mynotes",class:"btn btn-primary",children:"My Notes"})]}),Object(d.jsx)("div",{className:"img",children:Object(d.jsx)("img",{src:e&&e.picUrl,className:"img-fluid rounded-circle",alt:""})})]})})]})]})};var _=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),c=t[0],n=t[1];console.log(c);var s=Object(j.b)();return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userInfo"));s(b(e))})),Object(d.jsx)("div",{children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(u,{setSearch:n}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",children:Object(d.jsxs)("main",{children:[Object(d.jsx)(x,{})," "]})}),Object(d.jsx)(o.a,{path:"/mynotes",children:Object(d.jsx)(S,{search:c})}),Object(d.jsx)(o.a,{path:"/login",children:Object(d.jsx)(I,{})}),Object(d.jsx)(o.a,{path:"/register",children:Object(d.jsx)(E,{})}),Object(d.jsx)(o.a,{path:"/createnote",children:Object(d.jsx)(k,{})}),Object(d.jsx)(o.a,{path:"/note/:id",children:Object(d.jsx)(T,{})}),Object(d.jsx)(o.a,{path:"/profile",children:Object(d.jsx)(P,{})})]}),Object(d.jsx)(p,{})]})})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))},B=c(17),D=c(33),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":var c=t.payload.data;return c;case"LOGOUT_USER":return null;default:return e}},U=Object(B.b)({user:L}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||B.c,A=Object(B.d)(U,R(Object(B.a)(D.a)));r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(j.a,{store:A,children:Object(d.jsx)(_,{})})}),document.getElementById("root")),J()}},[[47,1,2]]]);
//# sourceMappingURL=main.e769c6d2.chunk.js.map